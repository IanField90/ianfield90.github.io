---
layout: post
title: 'An Android Developer''s Toolkit: Android emulator'
date: '2015-06-05T16:40:00.000+01:00'
author: Ian Field
tags:
- Emulator
- Development
- Conjure
- Android
modified_time: '2015-06-05T16:40:27.042+01:00'
blogger_id: tag:blogger.com,1999:blog-1951825423897052840.post-4973454804483350738
blogger_orig_url: http://www.ian-field.co.uk/2015/06/an-android-developers-toolkit-android.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">In my nearly 3 years of work I've spent a lot of time writing Android applications. Fortunately for me this has mostly been on a real device. Proving to be nice and fast in comparison to a laggy ARM Emulator. Some of the projects I've worked on have used libraries which plain won't run on the emulator as soon as they're included sadly.<br /><br />On occasion it's important to be able to run up an Android Virtual Device with a different configuration to the device you've been using to develop on. For example a larger screen or different SDK version to see how layouts affected and possibly also how gracefully the UX degrades depending on supported APIs or as fall backs are used. Though I must say that with the introduction of IntelliJ and Android Studio during this time the layout designer has improved hugely from the days I spent in University writing things in Eclipse and relying on luck rather than understanding as to how they turned out.<br /><br />Whilst offering vastly increased flexibility to that of a physical device the Emulator is rather painful in terms of execution speed. This differs from the Simulator iOS developers can use without much (from my perspective) difference from the speed on an actual device. The Android emulator is resource intensive. Because it's an emulator it has to boot up as a real device, which is made slower by the fact your x86 processor is emulating an ARM processor at the same time.<br /><br />Earlier this year <a href="https://github.com/JakeWharton">Jake Wharton</a>, a developer who's contribution to the Android Open Source contributions I'm sure a lot of people owe many a pint to, wrote a blog post <a href="http://jakewharton.com/android-needs-a-simulator/">http://jakewharton.com/android-needs-a-simulator/</a>&nbsp;somewhat on the subject.<br /><br />My most recent emulator encounter has been the need to copy a database instead of seeding and creating one - ordinarily actions involving files I'd use the <i>monitor</i>&nbsp;tool or <i>adb pull</i> commands to retrieve but unfortunately Databases - even on a developer enabled device - are inaccessible via ADB, and therefore Monitor. Whilst there is a possible workaround for this by runtime file copying to a readable area of the device, which I'd need to do in the case of the previously mentioned library - or rooting a device (not something I really want) the emulator however seemed a 'faster' choice at the time. Looking back doing the code workaround would probably have been quicker. Until I discovered how to make the emulator faster this was an arduous task as the emulator would take a really long time to create the database in the first place, then I'd have to retrieve the file. Doing this for an internal test build took up to 20 minutes on occasion!<br /><br />The Intel x86 Emulator - Pretty much a blue sky day for my Macbook. But that in itself hasn't been all of it. The Intel Hardware Accelerated Execution Manager (HAXM) has made my Database reseeding a breeze. Installing this and setting up a compatible AVD results in an emulator that in fact performs faster than my actual device (a Nexus 4), and with (at first glance) faster debugging. Now whilst this may not be new to some, it was to everyone in our office so I thought it worthwhile sharing.<br /><br />It was only really on a whim I found out about HAXM, it'd been something in my Android SDK manager - one of many things to download<br /><br />Once you're set up and you launch the emulator from inside Android Studio you should see the following message to let you know that you've successfully set it up:<br /><br /><i>HAX is working and emulator runs in fast virt mode</i><br /><br />This should be it. I noticed that it slows down a little if the window looses focus - possibly something to do with App Nap but it spins up to regular speed in no time.<br /><br />https://software.intel.com/en-us/android/articles/intel-hardware-accelerated-execution-manager-end-user-license-agreement-macosx<br /><br />Following Google I/O 2015 it's pleasing to hear that this will be done for you automatically, and even prompt for the BIOS setting to be changed to enable it on Windows.<br /><br /></div>